const mysql = require('mysql2/promise');
require('dotenv').config();

async function seedData() {
  let connection;
  
  try {
    console.log('üå± ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á...\n');
    
    connection = await mysql.createConnection({
      host: process.env.DB_HOST || 'localhost',
      user: process.env.DB_USER || 'root',
      password: process.env.DB_PASSWORD || '',
      database: process.env.DB_NAME || 'online_shop'
    });

    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
    const additionalProducts = [
      ['‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÇ‡∏õ‡πÇ‡∏•‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢', '‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÇ‡∏õ‡πÇ‡∏•‡∏ú‡πâ‡∏≤ Cotton ‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô', 650.00, 20, 1, false],
      ['‡∏Å‡∏£‡∏∞‡πÇ‡∏õ‡∏£‡∏á‡∏¢‡∏µ‡∏ô‡∏™‡πå', '‡∏Å‡∏£‡∏∞‡πÇ‡∏õ‡∏£‡∏á‡∏¢‡∏µ‡∏ô‡∏™‡πå‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á ‡∏ó‡∏£‡∏á‡πÄ‡∏≠ ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô', 750.00, 15, 1, true],
      ['‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏ú‡πâ‡∏≤‡πÉ‡∏ö', '‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏ú‡πâ‡∏≤‡πÉ‡∏ö‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ', 1200.00, 10, 1, true],
      ['‡∏Å‡∏£‡∏∞‡∏ï‡∏¥‡∏Å‡∏ô‡πâ‡∏≥‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•‡∏™', '‡∏Å‡∏£‡∏∞‡∏ï‡∏¥‡∏Å‡∏ô‡πâ‡∏≥‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•‡∏™ ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô‡πÑ‡∏î‡πâ 12 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á', 450.00, 30, 2, false],
      ['‡∏´‡∏°‡∏≠‡∏ô‡∏´‡∏ô‡∏∏‡∏ô', '‡∏´‡∏°‡∏≠‡∏ô‡∏´‡∏ô‡∏∏‡∏ô‡πÉ‡∏¢‡πÑ‡∏ú‡πà ‡∏ô‡∏∏‡πà‡∏°‡∏™‡∏ö‡∏≤‡∏¢', 380.00, 25, 2, false],
      ['‡∏ú‡πâ‡∏≤‡∏Ç‡∏ô‡∏´‡∏ô‡∏π', '‡∏ú‡πâ‡∏≤‡∏Ç‡∏ô‡∏´‡∏ô‡∏π‡∏ú‡πâ‡∏≤‡πÑ‡∏ú‡πà ‡∏ã‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏î‡∏µ', 150.00, 40, 2, false],
      ['‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÉ‡∏ö‡∏´‡∏°‡πà‡∏≠‡∏ô', '‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÉ‡∏ö‡∏´‡∏°‡πà‡∏≠‡∏ô ‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å 100%', 280.00, 35, 3, true],
      ['‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á‡πÅ‡∏ó‡πâ', '‡∏ô‡πâ‡∏≥‡∏ú‡∏∂‡πâ‡∏á‡πÅ‡∏ó‡πâ‡∏à‡∏≤‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏Ç‡∏ô‡∏≤‡∏î 500ml', 420.00, 20, 3, false],
      ['‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏≠‡∏°‡∏°‡∏∞‡∏•‡∏¥', '‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏≠‡∏°‡∏°‡∏∞‡∏•‡∏¥‡πÅ‡∏ó‡πâ 5 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°', 180.00, 50, 3, false],
      ['‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡∏ß‡∏≠‡∏ó‡∏ä‡πå', '‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ó‡∏ß‡∏≠‡∏ó‡∏ä‡πå‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û ‡∏Å‡∏±‡∏ô‡∏ô‡πâ‡∏≥ IP68', 3500.00, 8, 4, true],
      ['‡∏û‡∏≤‡∏ß‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÅ‡∏ö‡∏á‡∏Ñ‡πå', '‡∏û‡∏≤‡∏ß‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÅ‡∏ö‡∏á‡∏Ñ‡πå 10,000mAh ‡∏ä‡∏≤‡∏£‡πå‡∏à‡πÄ‡∏£‡πá‡∏ß', 890.00, 25, 4, false],
      ['‡∏•‡∏≥‡πÇ‡∏û‡∏á‡∏ö‡∏•‡∏π‡∏ó‡∏π‡∏ò', '‡∏•‡∏≥‡πÇ‡∏û‡∏á‡∏ö‡∏•‡∏π‡∏ó‡∏π‡∏ò‡∏û‡∏Å‡∏û‡∏≤ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏™‡πÄ‡∏ö‡∏™‡∏´‡∏ô‡∏±‡∏Å', 1500.00, 12, 4, true],
      ['‡πÄ‡∏™‡∏∑‡πà‡∏≠‡πÇ‡∏¢‡∏Ñ‡∏∞', '‡πÄ‡∏™‡∏∑‡πà‡∏≠‡πÇ‡∏¢‡∏Ñ‡∏∞ TPE ‡∏´‡∏ô‡∏≤ 6mm ‡∏Å‡∏±‡∏ô‡∏•‡∏∑‡πà‡∏ô', 650.00, 20, 5, false],
      ['‡∏î‡∏±‡∏°‡πÄ‡∏ö‡∏•‡∏õ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å', '‡∏î‡∏±‡∏°‡πÄ‡∏ö‡∏•‡∏õ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÑ‡∏î‡πâ 5-20kg', 2800.00, 6, 5, false],
      ['‡∏•‡∏π‡∏Å‡∏ö‡∏≤‡∏™‡πÄ‡∏Å‡∏ï‡∏ö‡∏≠‡∏•', '‡∏•‡∏π‡∏Å‡∏ö‡∏≤‡∏™‡πÄ‡∏Å‡∏ï‡∏ö‡∏≠‡∏• ‡∏´‡∏ô‡∏±‡∏á‡πÅ‡∏ó‡πâ ‡∏Ç‡∏ô‡∏≤‡∏î‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô', 780.00, 15, 5, false]
    ];

    console.log('üì¶ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á...');
    for (const product of additionalProducts) {
      await connection.execute(`
        INSERT INTO products (name, description, price, stock_quantity, category_id, is_featured)
        VALUES (?, ?, ?, ?, ?, ?)
      `, product);
    }

    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
    console.log('üìã ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á...');
    const additionalOrders = [
      ['ORD1704123459', '‡∏°‡∏≤‡∏•‡∏µ ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°', '084-567-8901', '789 ‡∏ñ‡∏ô‡∏ô‡∏£‡∏≤‡∏ä‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô ‡πÄ‡∏Ç‡∏ï‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10200', 2150.00, 'shipped'],
      ['ORD1704123460', '‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡πÅ‡∏Å‡πâ‡∏ß‡πÉ‡∏™', '085-678-9012', '321 ‡∏ñ‡∏ô‡∏ô‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ ‡πÄ‡∏Ç‡∏ï‡∏£‡∏≤‡∏ä‡πÄ‡∏ó‡∏ß‡∏µ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10400', 890.00, 'completed'],
      ['ORD1704123461', '‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏ì ‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥', '086-789-0123', '654 ‡∏ñ‡∏ô‡∏ô‡∏™‡∏µ‡∏•‡∏° ‡πÄ‡∏Ç‡∏ï‡∏ö‡∏≤‡∏á‡∏£‡∏±‡∏Å ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10500', 1500.00, 'confirmed']
    ];

    for (const order of additionalOrders) {
      await connection.execute(`
        INSERT INTO orders (order_number, customer_name, customer_phone, customer_address, total_amount, status)
        VALUES (?, ?, ?, ?, ?, ?)
      `, order);
    }

    console.log('‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!\n');
    console.log('üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:');
    
    // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
    const [productCount] = await connection.execute('SELECT COUNT(*) as count FROM products');
    const [orderCount] = await connection.execute('SELECT COUNT(*) as count FROM orders');
    const [categoryCount] = await connection.execute('SELECT COUNT(*) as count FROM categories');
    
    console.log(`   üì¶ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: ${productCount[0].count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
    console.log(`   üìã ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠: ${orderCount[0].count} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
    console.log(`   üìÇ ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà: ${categoryCount[0].count} ‡∏´‡∏°‡∏ß‡∏î`);
    
  } catch (error) {
    console.error('‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:', error.message);
  } finally {
    if (connection) {
      await connection.end();
    }
  }
}

seedData();